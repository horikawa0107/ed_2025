<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>センサーデータ表示</title>
</head>
<body>
    <h1>最新のセンサーデータと予測快適指数</h1>
    <p>データ総件数: {{ data_count }}</p>
    <table border="1">
        <tr><th>温度</th><td>{{ predicted_data.temperature }}</td></tr>
        <tr><th>湿度</th><td>{{ predicted_data.humidity }}</td></tr>
        <tr><th>照度</th><td>{{ predicted_data.light }}</td></tr>
        <tr><th>気圧</th><td>{{ predicted_data.pressure }}</td></tr>
        <tr><th>音</th><td>{{ predicted_data.sound_level }}</td></tr>
        <tr><th>バッテリー</th><td>{{ predicted_data.battery }}</td></tr>
        <tr><th>推定快適指数</th><td>{{ predicted_data.comfort_index }}</td></tr>
    </table>
    <h1>センサーデータログ</h1>
    <table border="1">
        <tr>
            <th>日時</th><th>温度</th><th>湿度</th><th>照度</th><th>UV</th><th>気圧</th><th>音</th><th>不快指数</th><th>熱中症</th><th>振動</th><th>バッテリー</th>
        </tr>
        {% for row in latest_data %}
        <tr>
            <td>{{ row.timestamp }}</td><td>{{ row.temperature }}</td><td>{{ row.humidity }}</td><td>{{ row.light }}</td>
            <td>{{ row.uv_index }}</td><td>{{ row.pressure }}</td><td>{{ row.sound_level }}</td>
            <td>{{ row.discomfort_index }}</td><td>{{ row.heatstroke_risk }}</td><td>{{ row.vibration }}</td><td>{{ row.battery }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>

